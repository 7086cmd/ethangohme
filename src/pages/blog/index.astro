---
import ChineseBadge from '../../components/ChineseBadge.astro'
import MainLayout from '../../layouts/MainLayout.astro'

import { SortDate } from '../../logic/dateSort'

const blogs = SortDate(await Astro.glob('./*.md'))
---

<MainLayout title={'My Blogs'}>
  <h1>My Blog</h1>
  <ol>
    {
      blogs.map((blog, index) => (
        <li class="flex items-center flex-wrap">
          <span class="mr-10px">{blog.frontmatter.date}</span>
          <a href={blog.url}>{blog.frontmatter.title}</a>
          <ChineseBadge isCn={blog.frontmatter.cn} />
          {blog.frontmatter.inProgress ? (
            <span class="i-uil-jackhammer text-inherit ml-5px dark:bg-white" />
          ) : (
            <span />
          )}
        </li>
      ))
    }
  </ol>
</MainLayout>
